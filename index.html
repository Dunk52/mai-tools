<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" >
    <title>Convert maimai DX score to FiNALE score</title>
    <link rel="stylesheet" href="./styles.css">
  </head>
  <body>
    <div id="inputContainer">
      <textarea class="input"></textarea>
      <br>
      <button id="convert">Convert</button>
    </div>
    <div class="output">
      <h3 class="songTitleHeading">
        <a id="songTitle" title="開啟中文維基" target="_blank" href="https://maimai.fandom.com/zh/wiki/"></a>
      </h3>
        maimai DX <span class="achievement">Achievement</span>:
        <div class="scoreWrapper">
          <span class="playerScore"><span id="dxScore"></span>%</span>
          / 101.0000%
        </div>
        maimai <span class="achievement">Achievement</span>:
        <div class="scoreWrapper">
          <span class="playerScore"><span id="finaleScore"></span>%</span>
          / <span class="maxFinaleScore"></span>%
        </div>
      <table class="resultTable">
        <thead>
          <tr>
            <th>&nbsp;</th>
            <th class="criticalPerfect">Critical<br>Perfect</th>
            <th class="perfect">Perfect</th>
            <th class="great">Great</th>
            <th class="good">Good</th>
            <th class="miss">Miss</th>
          </tr>
        </thead>
        <tbody>
          <tr class="tap">
            <th>Tap</th>
            <td class="tap criticalPerfect"></td>
            <td class="tap perfect"></td>
            <td class="tap great"></td>
            <td class="tap good"></td>
            <td class="tap miss"></td>
          </tr>
          <tr class="hold">
            <th>Hold</th>
            <td class="hold criticalPerfect"></td>
            <td class="hold perfect"></td>
            <td class="hold great"></td>
            <td class="hold good"></td>
            <td class="hold miss"></td>
          </tr>
          <tr class="slide">
            <th>Slide</th>
            <td class="slide criticalPerfect"></td>
            <td class="slide perfect"></td>
            <td class="slide great"></td>
            <td class="slide good"></td>
            <td class="slide miss"></td>
          </tr>
          <tr class="touch">
            <th>Touch</th>
            <td class="touch criticalPerfect"></td>
            <td class="touch perfect"></td>
            <td class="touch great"></td>
            <td class="touch good"></td>
            <td class="touch miss"></td>
          </tr>
          <tr class="break">
            <th>Break</th>
            <td class="break criticalPerfect">
              <span class="break2600" title="2600"></span>
            </td>
            <td class="break perfect">
              <span class="break2550" title="2550"></span>
              <span class="break2500" title="2500"></span>
            </td>
            <td class="break great">
              <span class="break2000" title="2000"></span>
              <span class="break1500" title="1500"></span>
              <span class="break1250" title="1250"></span>
            </td>
            <td class="break good">
              <span class="break1000" title="1000"></span>
            </td>
            <td class="break miss">
              <span class="break0" title="0"></span>
            </td>
          </tr>
        </tbody>
      </table>
      <div id="borderInfo" class="hidden">
        <h4 id="finaleBorder">Score needed to reach next rank (old scoring system)</h4>
        <table id="borderTable">
          <tbody>
          </tbody>
        </table>
      </div>
      <h3 id="chartInfoHeading">Chart info</h3>
      <table class="infoTable">
        <thead>
          <tr>
            <th class="tap">TAP</th>
            <th class="hold">HOLD</th>
            <th class="slide">SLIDE</th>
            <th class="touch">TOUCH</th>
            <th class="break">BREAK</th>
            <th class="totalNoteCount">TOTAL</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="tapCount"></td>
            <td class="holdCount"></td>
            <td class="slideCount"></td>
            <td class="touchCount"></td>
            <td class="breakCount"></td>
            <td id="totalNoteCount"></th>
          </tr>
        </tbody>
      </table>
    </div>
    <hr>
    <div class="howto">
      <h3 id="howtoHeading">How to use</h3>
      <div id="description"></div>
      <a id="bookmarklet" href='javascript:(function(d){if ((d.location.host === "maimaidx-eng.com" || d.location.host === "maimaidx.jp") && d.location.pathname.includes("/maimai-mobile/record/playlogDetail/")) {var st=d.querySelector(".basic_block.break").childNodes[1].nodeValue, ac=d.querySelector(".playlog_achievement_txt").innerText, nd=d.querySelector(".playlog_notes_detail").innerText; window.open(`https://myjian.github.io/mai-tools/?st=${encodeURIComponent(st)}&ac=${encodeURIComponent(ac)}&nd=${encodeURIComponent(nd)}`, "_blank");}})(document)'>Convert maimai DX score to FiNALE score</a>
    </div>
    <hr>
    <div class="footer credit">
      Made by <a href="https://github.com/myjian" target="_blank">myjian</a>.
    </div>
    <script src="./i18n.js"></script>
    <script src="./main.js"></script>
  </body>
</html>
