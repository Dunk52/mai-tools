!function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=60)}({0:function(e,t){e.exports=React},4:function(e,t){e.exports=ReactDOM},60:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=a(n(0)),l=a(n(4)),r=n(61);l.default.render(i.default.createElement(r.RatingVisualizer,null),document.getElementById("root"))},61:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RatingVisualizer=void 0;const i=a(n(0)),l=n(62),r=n(63),o=n(64),s=n(67),c=n(68);class h extends i.default.PureComponent{constructor(e){super(e),this.removeIntervalTimeout=0,this.handleDxPlusChange=e=>{this.setState({isDxPlus:e}),!e&&this.state.maxLv>14&&this.handleUnselectLv()},this.handleChangeHeightUnit=e=>{this.setState({heightUnit:e})},this.handleSelectLv=(e,t,n)=>{this.setState({selectedLvTitle:e,minLv:t,maxLv:n})},this.handleUnselectLv=()=>{this.setState({minLv:void 0,maxLv:void 0,selectedLvTitle:void 0})},this.highlightInterval=(e,t)=>{const n=this.state.highlightInterval;n&&n[0]===e&&n[1]===t?this.removeHighlightInterval():this.setState({highlightInterval:[e,t]})},this.removeHighlightInterval=()=>{console.log("removeInterval"),console.log(document.activeElement),this.removeIntervalTimeout=setTimeout(()=>{this.setState({highlightInterval:void 0}),this.removeIntervalTimeout=0},0)},this.cancelRemoveHighlightInterval=()=>{console.log("cancelRemove"),console.log(document.activeElement),this.removeIntervalTimeout&&(clearTimeout(this.removeIntervalTimeout),this.removeIntervalTimeout=0)},this.state={width:30,heightUnit:8,maxRating:l.DX_MAX_RATING,topPadding:70,isDxPlus:!1,axisLabelStep:5}}render(){const{isDxPlus:e,heightUnit:t,maxRating:n,axisLabelStep:a,highlightInterval:h,minLv:m,selectedLvTitle:u}=this.state,v=this.getLevels(),d=e?l.DX_PLUS_RANKS:l.DX_RANKS,g=this.getContainerHeight(),L=!m;return i.default.createElement("div",{className:"ratingVisualizer"},i.default.createElement(s.OptionsInput,{onChangeDxPlus:this.handleDxPlusChange,onChangeUnit:this.handleChangeHeightUnit,onZoomOut:this.handleUnselectLv,selectedLv:u,minLv:v[v.length-1].title,maxLv:v[0].title,showZoomOutButton:!L,onBlur:this.removeHighlightInterval,onFocus:this.cancelRemoveHighlightInterval}),i.default.createElement("div",{className:"container",onBlur:this.removeHighlightInterval,onFocus:this.cancelRemoveHighlightInterval,tabIndex:-1},i.default.createElement("div",{className:"ratingContainer"},i.default.createElement(c.RatingAxis,{maxRating:n,heightUnit:t,containerHeight:g,step:a,onClick:this.removeHighlightInterval}),v.map(e=>i.default.createElement(o.LvRatingContainer,{key:e.title,canZoomIn:L,lvTitle:e.title,minLv:e.minLv,maxLv:e.maxLv,heightUnit:t,containerHeight:g,ranks:d,onZoomIn:this.handleSelectLv,highlightInterval:this.highlightInterval})),h&&i.default.createElement(r.IntervalLines,{interval:h,heightUnit:t,onClick:this.removeHighlightInterval}))))}getLevels(){const{minLv:e,isDxPlus:t}=this.state;let{maxLv:n}=this.state;if(e&&n){const t=[];for(;e<=n;)t.push({title:n.toFixed(1),minLv:n,maxLv:n}),n-=.1;return t}return t?l.DX_PLUS_LEVELS:l.DX_LEVELS}getContainerHeight(){const{axisLabelStep:e,maxRating:t,heightUnit:n,topPadding:a}=this.state;return(t+e)*n+a}}t.RatingVisualizer=h},62:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DX_LEVELS=t.DX_PLUS_LEVELS=t.DX_PLUS_RANKS=t.DX_RANKS=t.DX_MAX_RATING=void 0,t.DX_MAX_RATING=211,t.DX_RANKS=[{title:"SSS+",minAchv:100.5,rankFactor:15,maxAchv:100.5},{title:"SSS",minAchv:100,rankFactor:14,maxAchv:100.4999},{title:"SS+",minAchv:99.5,rankFactor:13,maxAchv:99.9999,maxRankFactor:13.5},{title:"SS",minAchv:99,rankFactor:12,maxAchv:99.4999},{title:"S+",minAchv:98,rankFactor:11,maxAchv:98.9999},{title:"S",minAchv:97,rankFactor:10,maxAchv:97.9999},{title:"AAA",minAchv:94,rankFactor:9.4,maxAchv:96.9999},{title:"AA",minAchv:90,rankFactor:9,maxAchv:93.99999},{title:"A",minAchv:80,rankFactor:8,maxAchv:89.9999}],t.DX_PLUS_RANKS=[{title:"SSS+",minAchv:100.5,rankFactor:14,maxAchv:100.5},{title:"SSS",minAchv:100,rankFactor:13.5,maxAchv:100.4999},{title:"SS+",minAchv:99.5,rankFactor:13.2,maxAchv:99.9999},{title:"SS",minAchv:99,rankFactor:13,maxAchv:99.4999},{title:"S+",minAchv:98,rankFactor:12.7,maxAchv:98.9999},{title:"S",minAchv:97,rankFactor:12.5,maxAchv:97.9999},{title:"AAA",minAchv:94,rankFactor:10.5,maxAchv:96.9999},{title:"AA",minAchv:90,rankFactor:9.5,maxAchv:93.9999},{title:"A",minAchv:80,rankFactor:8.5,maxAchv:89.9999}];t.DX_PLUS_LEVELS=[{title:"15",minLv:15,maxLv:15},{title:"14+",minLv:14.7,maxLv:14.9},{title:"14",minLv:14,maxLv:14.6},{title:"13+",minLv:13.7,maxLv:13.9},{title:"13",minLv:13,maxLv:13.6},{title:"12+",minLv:12.7,maxLv:12.9},{title:"12",minLv:12,maxLv:12.6},{title:"11+",minLv:11.7,maxLv:11.9},{title:"11",minLv:11,maxLv:11.6},{title:"10+",minLv:10.7,maxLv:10.9},{title:"10",minLv:10,maxLv:10.6},{title:"9+",minLv:9.7,maxLv:9.9},{title:"9",minLv:9,maxLv:9.6},{title:"8+",minLv:8.7,maxLv:8.9},{title:"8",minLv:8,maxLv:8.6}];const a=t.DX_PLUS_LEVELS.slice(2);a[0]={title:"14",minLv:14,maxLv:14},t.DX_LEVELS=a},63:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IntervalLines=void 0;const i=a(n(0));class l extends i.default.PureComponent{render(){const{interval:e,heightUnit:t,onClick:n}=this.props,a=e[0]===e[1];let l,r;const o={bottom:(l=(e[0]-.5)*t-1)+"px"},s={bottom:(r=(e[1]+.5)*t)+"px"};a?l+=4:r-l<14&&(r+=2,l-=5);const c={bottom:l+"px"},h={bottom:r+"px"};return i.default.createElement("div",{onClick:n},i.default.createElement("div",{className:"intervalBoundary",style:s}),i.default.createElement("div",{className:"intervalBoundary",style:o}),i.default.createElement("div",{className:"intervalLabel",style:c},i.default.createElement("span",{className:"intervalLabelText axisLabelText"},e[0])),!a&&i.default.createElement("div",{className:"intervalLabel",style:h},i.default.createElement("span",{className:"intervalLabelText axisLabelText"},e[1])))}}t.IntervalLines=l},64:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LvRatingContainer=void 0;const i=a(n(0)),l=n(65),r=n(66);class o extends i.default.PureComponent{constructor(){super(...arguments),this.handleLabelClick=()=>{const{lvTitle:e,minLv:t,maxLv:n}=this.props;this.props.onZoomIn(e,t,n)}}render(){const{canZoomIn:e,lvTitle:t,minLv:n,maxLv:a,heightUnit:o,containerHeight:s,ranks:c}=this.props,h={height:s+"px"};return i.default.createElement("div",{className:"lvRatingContainer",style:h},i.default.createElement(l.LvLabel,{title:t,onClick:this.handleLabelClick,canZoomIn:e}),c.map(e=>i.default.createElement(r.LvRankRatingSegment,{key:e.title,minLv:n,maxLv:a,minAchv:e.minAchv,maxAchv:e.maxAchv,rankFactor:e.rankFactor,maxRankFactor:e.maxRankFactor,heightUnit:o,title:e.title,highlightInterval:this.props.highlightInterval})))}}t.LvRatingContainer=o},65:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LvLabel=void 0;const i=a(n(0));class l extends i.default.PureComponent{render(){const{canZoomIn:e,onClick:t,title:n}=this.props;return i.default.createElement("div",{className:"lvLabel"},i.default.createElement("div",{className:"lvLabelButtonContainer"},i.default.createElement("button",{className:"lvLabelButton",disabled:!e,onClick:t},n)))}}t.LvLabel=l},66:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LvRankRatingSegment=void 0;const i=a(n(0));class l extends i.default.PureComponent{constructor(){super(...arguments),this.minRt=0,this.maxRt=0,this.handleClick=()=>{this.props.highlightInterval(this.minRt,this.maxRt)}}render(){const{minLv:e,minAchv:t,rankFactor:n,maxLv:a,maxAchv:l,maxRankFactor:r,heightUnit:o,title:s}=this.props;this.minRt=Math.floor(e*t*n/100),this.maxRt=Math.floor(a*l*(r||n)/100);const c={bottom:(this.minRt-.5)*o+"px",height:(this.maxRt-this.minRt+1)*o+"px"},h="ratingSegment segment"+s.replace("+","P");return i.default.createElement("div",{className:h,style:c,title:this.hoverText(),tabIndex:0,onClick:this.handleClick},i.default.createElement("div",{className:"ratingSegmentLabel"},s))}hoverText(){return this.minRt<this.maxRt?`${this.minRt} - ${this.maxRt}`:this.maxRt.toString()}}t.LvRankRatingSegment=l},67:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.OptionsInput=void 0;const i=a(n(0));class l extends i.default.PureComponent{constructor(){super(...arguments),this.handleChangeVersion=e=>{console.log(e.target);const t="plus"===e.currentTarget.value;this.props.onChangeDxPlus(t)},this.handleChangeHeightUnit=e=>{console.log(e.target);const t=parseInt(e.currentTarget.value);this.props.onChangeUnit(t)}}render(){const{minLv:e,maxLv:t,selectedLv:n,showZoomOutButton:a,onZoomOut:l,onFocus:r,onBlur:o}=this.props,s=n||`${e} - ${t}`;return i.default.createElement("div",{className:"optionsContainer"},i.default.createElement("div",{className:"container",onFocus:r,onBlur:o,tabIndex:-1},i.default.createElement("label",{className:"optionGroup"},"Game version: ",i.default.createElement("select",{onChange:this.handleChangeVersion},i.default.createElement("option",{value:"dx"},"DX"),i.default.createElement("option",{value:"plus"},"DX+"))),i.default.createElement("label",{className:"optionGroup"},"Scale: ",i.default.createElement("select",{onChange:this.handleChangeHeightUnit},i.default.createElement("option",{value:"3"},"3x"),i.default.createElement("option",{value:"4"},"4x"),i.default.createElement("option",{value:"5"},"5x"),i.default.createElement("option",{value:"8",selected:!0},"8x"),i.default.createElement("option",{value:"12"},"12x"))),i.default.createElement("span",{className:"lvRangeLabelContainer"},"Showing Level ",i.default.createElement("span",{className:"lvRangeLabel"},s),a&&i.default.createElement("button",{className:"resetZoomButton",onClick:l},"Reset"))))}}t.OptionsInput=l},68:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RatingAxis=void 0;const i=a(n(0));class l extends i.default.PureComponent{render(){const{step:e,maxRating:t,containerHeight:n,onClick:a}=this.props,l={height:n+"px"},r=[];let o=0;for(o=0;o<t;o+=e)r.push(this.renderLabel(o));return r.push(this.renderLabel(o)),i.default.createElement("div",{className:"axisLabelContainer",style:l,onClick:a},r)}renderLabel(e){const t={bottom:e*this.props.heightUnit+"px"};return i.default.createElement("div",{className:"axisLabel",style:t},i.default.createElement("span",{className:"axisLabelText"},e))}}t.RatingAxis=l}});