<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.8" >
    <title>maimai DX Rating Calculator</title>
    <link rel="stylesheet" href="./css/styles.css">
    <link rel="stylesheet" href="./css/input-styles.css">
    <link rel="stylesheet" href="./css/song-record-styles.css">
    <link rel="stylesheet" href="./css/rank-distributon-styles.css">
    <link rel="stylesheet" href="./css/quick-lookup.css">
    <link rel="stylesheet" href="./css/footer-styles.css">
  </head>
  <body>
    <div>
      <label for="gameVersion">遊戲版本：</label>
      <select id="gameVersion">
        <option value="13">DX</option>
        <option value="14">DX Plus</option>
      </select>
    </div>
    <div>
      <h2 class="innerLvInputHeading">譜面定數輸入</h2>
      <div class="innerLvInputDescription">
        沒有也沒關係。若歌曲找不到對應的譜面定數，會採取該等級最低的譜面定數。例如 Lv10 採用 10.0 計算 (實際範圍是 10.0 - 10.6)，Lv10+ 採用 10.7 (實際範圍是 10.7 - 10.9)，依此類推。
      </div>
      <textarea id="innerLvInput"></textarea>
    </div>
    <div>
      <h2 class="playerScoreInputHeading">玩家成績輸入</h2>
      <div>
        請用
        <a href="/mai-tools/bookmarklets/" target="_blank">書籤小工具</a>
        中的「下載 maimai 所有歌曲成績」下載成績後貼到下方文字框。
      </div>
      <textarea id="playerScoreInput"></textarea>
    </div>
    <div class="actionArea">
      <button id="calculateRatingBtn">計算 Rating 值</button>
    </div>
    <hr class="sectionSep">
    <div class="outputArea hidden">
      <h2 id="outputHeading">分析結果</h2>
      <div class="totalRatingRow">Rating： <span id="totalRating"></span></div>
      <div class="ratingOverview">
        <table>
          <tbody>
            <tr>
              <td>新譜面 Rating</td>
              <td>：</td>
              <td id="oldSongsRating"></td>
            </tr>
            <tr>
              <td>舊譜面 Rating</td>
              <td>：</td>
              <td id="newSongsRating"></td>
            </tr>
            <tr id="gradeRating" class="hidden">
              <td>
                段位
                (<span id="gradeTitle"></span>)
              </td>
              <td>：</td>
              <td>
                <span id="gradeBonus"></span>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="ratingObjectDistribution">
        <h3>Rating 對象曲等級與成績分布</h3>
        <div class="flexRow">
          <!-- lrDist = level-rank distribution -->
          <table id="lrDistTable">
            <thead id="lrDistThead"></thead>
            <tbody id="lrDistTbody"></tbody>
          </table>
          <!-- drDist = difficulty-rank distribution -->
          <table id="drDistTable">
            <thead id="drDistThead"></thead>
            <tbody id="drDistTbody"></tbody>
          </table>
        </div>
      </div>
      <div class="songRecordsContainer">
        <h3>◉ 新譜面 Rating 對象曲目 (取最佳 15 首)：</h3>
        <table class="songRecordTable topRecordTable">
          <thead id="newTopSongsThead"></thead>
          <tbody id="newTopSongsTbody"></tbody>
        </table>
      </div>
      <div class="songRecordsContainer">
        <h3>◉ 舊譜面 Rating 對象曲目 (取最佳 25 首)：</h3>
        <table class="songRecordTable topRecordTable">
          <thead id="oldTopSongsThead"></thead>
          <tbody id="oldTopSongsTbody"></tbody>
        </table>
      </div>
      <!-- TODO: filter by song name from user input -->
      <div class="songRecordsContainer">
        <h3>▲ 新譜面 Rating 候選曲目：</h3>
        <table class="songRecordTable candidateTable">
          <thead id="newCandidateSongsThead"></thead>
          <tbody id="newCandidateSongsTbody"></tbody>
        </table>
      </div>
      <div class="songRecordsContainer">
        <h3>▲ 舊譜面 Rating 候選曲目：</h3>
        <table class="songRecordTable candidateTable">
          <thead id="oldCandidateSongsThead"></thead>
          <tbody id="oldCandidateSongsTbody"></tbody>
        </table>
      </div>
      <hr class="sectionSep">
    </div>
    <div class="quickLookup">
      <h2 class="quickLookupHeading">Rank 係數表</h2>
      <table class="quickLookupTable">
        <thead id="quickLookupThead"></thead>
        <tbody id="quickLookupTbody"></tbody>
      </table>
      <hr class="sectionSep">
    </div>
    <div class="otherToolsContainer">
      <h2 class="otherToolsHeading">其他工具</h2>
      <ul>
        <li class="toolItem"><a href="../bookmarklets/">書籤小工具列表</a></li>
        <li class="toolItem"><a href="../">新舊版分數轉換工具</a></li>
        <li class="toolItem"><a href="../rating-visualizer/">R 值視覺化互動式網頁</a></li>
      </ul>
      <hr class="sectionSep">
    </div>
    <footer>
      Made by <a class="authorLink" href="https://github.com/myjian/">myjian</a>.
    </footer>
    <script type="module" src="./dist/main.bundle.js"></script>
  </body>
</html>
